!function(){"use strict";angular.module("musicApp",["ngAnimate","ngSanitize","ngMessages","ui.router","ui.bootstrap","musicApp.artists"])}(),function(){"use strict";angular.module("musicApp").directive("acmeNavbar",function(){return{restrict:"E",templateUrl:"app/navbar/navbar.html",scope:{creationDate:"="},controller:"NavbarController",controllerAs:"vm",bindToController:!0}}).controller("NavbarController",["moment",function(e){var a=this;a.relativeDate=e(a.creationDate).fromNow()}])}(),function(){"use strict";function e(){}angular.module("musicApp").controller("MainController",e)}(),angular.module("musicApp.artists",["ui.router"]).config(["$stateProvider",function(e){e.state("artists",{url:"/artists",templateUrl:"/app/artists/artists.html",controller:"ArtistsController",controllerAs:"artists"})}]),angular.module("musicApp.artists").directive("countryCode",function(){return{require:"ngModel",link:function(e,a,t,r){var s=["pl","en","us"];r.$validators.countryCode=function(e){return e?-1!==s.indexOf(e):!0}}}}),angular.module("musicApp.artists").service("artistsService",["$http",function(e){this.search=function(a){return e.get("https://api.spotify.com/v1/search",{params:a}).then(function(e){return e.data[a.type+"s"].items})}}]),angular.module("musicApp.artists").controller("ArtistsController",["artistsService","$window",function(e,a){function t(){var e=a.localStorage.getItem("artists");return e?JSON.parse(e):void 0}var r=this;r.searchParams={},r.types=["artist","album","track"],r.list=t(),r.search=function(t){t.$invalid||e.search(r.searchParams).then(function(e){r.list=e,a.localStorage.setItem("artists",JSON.stringify(e))})}}]),angular.module("musicApp.artists").directive("artistImage",function(){return{template:'<img ng-src="{{image.source()}}"/>',scope:{artist:"="},controller:"ArtistImageController",controllerAs:"image"}}).controller("ArtistImageController",["$scope",function(e){this.source=function(){var a=e.artist.images;return a&&a.length?a[a.length-1].url:void 0}}]),function(){"use strict";function e(e){e.debug("runBlock end")}angular.module("musicApp").run(e),e.$inject=["$log"]}(),function(){"use strict";function e(e,a){e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),a.otherwise("/")}angular.module("musicApp").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("musicApp").constant("malarkey",malarkey).constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function e(e,a){e.debugEnabled(!0),a.options.timeOut=3e3,a.options.positionClass="toast-top-right",a.options.preventDuplicates=!0,a.options.progressBar=!0}angular.module("musicApp").config(e),e.$inject=["$logProvider","toastr"]}(),angular.module("musicApp").run(["$templateCache",function(e){e.put("app/artists/artists.html",'<div id="artists" class="well"><h1 class="text-center">Artists</h1><form name="searchForm" novalidate=""><div class="row"><div class="form-group col-md-4"><label for="query" class="control-label">Query</label> <input type="text" class="form-control" name="query" id="query" ng-model="artists.searchParams.q" placeholder="Enter query" required=""><ng-messages for="searchForm.query.$error" ng-show="searchForm.query.$invalid"><ng-message when="required" class="text-danger">Required field</ng-message></ng-messages></div><div class="form-group col-md-2"><label for="type" class="control-label">Type</label><select class="form-control" name="type" id="type" ng-model="artists.searchParams.type" ng-options="type for type in artists.types" required=""></select><ng-messages for="searchForm.type.$error" ng-show="searchForm.type.$invalid"><ng-message when="required" class="text-danger">Required field</ng-message></ng-messages></div><div class="form-group col-md-2"><label for="limit" class="control-label">Size</label> <input type="number" class="form-control" name="limit" id="limit" ng-model="artists.searchParams.limit" required="" min="1" max="50"><ng-messages for="searchForm.limit.$error" ng-show="searchForm.limit.$invalid"><ng-message when="required" class="text-danger">Required field</ng-message><ng-message when="min" class="text-danger">Minimum value is 1</ng-message><ng-message when="max" class="text-danger">Maximum value is 50</ng-message></ng-messages></div><div class="form-group col-md-2"><label for="market" class="control-label">Market</label> <input type="text" class="form-control" name="market" id="market" ng-model="artists.searchParams.market" minlength="2" maxlength="2" country-code=""><ng-messages for="searchForm.market.$error" ng-show="searchForm.market.$invalid"><ng-message when="minlength" class="text-danger">Only 2 characters allowed</ng-message><ng-message when="maxlength" class="text-danger">Only 2 characters allowed</ng-message><ng-message when="countryCode" class="text-danger">Not a valid country code</ng-message></ng-messages></div><div class="form-group col-md-2"><label class="control-label">&nbsp;</label> <button class="btn btn-primary form-control" ng-click="artists.search(searchForm)">Search</button></div></div></form><ul class="list-group"><li class="list-group-item clearfix" ng-repeat="artist in artists.list"><h3>{{ artist.name }}</h3><artist-image artist="artist" class="pull-right"></artist-image></li></ul></div>'),e.put("app/main/main.html",'<div class="jumbotron text-center"><h1>\'Allo, \'Allo!</h1><p class="lead"><img src="assets/images/yeoman.png" alt="I\'m Yeoman"><br>Always a pleasure scaffolding your apps.</p></div>'),e.put("app/navbar/navbar.html",'<nav id="navbar" class="navbar navbar-static-top navbar-inverse"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" ui-sref="home" ui-sref-active="active"><span class="glyphicon glyphicon-home"></span> Gulp Angular</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6"><ul class="nav navbar-nav"><li><a ui-sref="artists" ui-sref-active="active">Artists</a></li></ul><ul class="nav navbar-nav navbar-right acme-navbar-text"><li>Application was created {{ vm.relativeDate }}.</li></ul></div></div></nav>')}]);